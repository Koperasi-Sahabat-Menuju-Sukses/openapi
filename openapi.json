{"openapi":"3.0.0","info":{"title":"Koperasi Sehabat Menuju Sukses","version":"1.0.0"},"servers":[{"url":"http://localhost:3000"}],"components":{"schemas":{"Member Schema":{"type":"object","properties":{"nik":{"type":"string","minLength":16,"maxLength":16},"cardId":{"type":"string","minLength":16,"maxLength":16},"name":{"type":"string"},"birthPlace":{"type":"string"},"birthDate":{"type":"string"},"address":{"type":"string"},"admArea1":{"type":"string"},"admArea2":{"type":"string"},"admArea3":{"type":"string"},"admArea4":{"type":"string"},"admArea5":{"type":"string"},"phoneNumber":{"type":"string"},"category":{"type":"string","enum":["BANK_MEMBER","COOPERATIVE_MEMBER"]},"profilePicture":{"type":"string"}},"required":["nik","cardId","name","birthPlace","birthDate","address","admArea1","admArea2","admArea3","admArea4","admArea5","phoneNumber","category","profilePicture"]},"Create Waste Category":{"type":"object","properties":{"name":{"type":"string","minLength":3,"maxLength":255},"price":{"type":"integer","minimum":0,"exclusiveMinimum":true},"unit":{"type":"string","enum":["kg","lt"]},"point":{"type":"integer","minimum":0,"exclusiveMinimum":true}},"required":["name","price","unit","point"]},"Update Waste Category":{"type":"object","properties":{"name":{"type":"string","minLength":3,"maxLength":255},"price":{"type":"integer","minimum":0,"exclusiveMinimum":true},"unit":{"type":"string","enum":["kg","lt"]},"point":{"type":"integer","minimum":0,"exclusiveMinimum":true}},"required":["name","price","unit","point"]},"Create User":{"type":"object","properties":{"name":{"type":"string","minLength":3,"maxLength":255},"email":{"type":"string","format":"email"},"password":{"type":"string","minLength":6},"confirmPassword":{"type":"string","minLength":6}},"required":["name","email","password","confirmPassword"]}},"parameters":{}},"paths":{"/member":{"get":{"tags":["Member"],"summary":"Get all members","parameters":[{"schema":{"type":"string"},"required":false,"name":"nik","in":"query"},{"schema":{"type":"string"},"required":false,"name":"name","in":"query"},{"schema":{"type":"string"},"required":false,"name":"birthPlace","in":"query"},{"schema":{"type":"string"},"required":false,"name":"address","in":"query"},{"schema":{"type":"string"},"required":false,"name":"admArea1","in":"query"},{"schema":{"type":"string"},"required":false,"name":"isActive","in":"query"},{"schema":{"type":"string","enum":["BANK_MEMBER","COOPERATIVE_MEMBER"]},"required":false,"name":"category","in":"query"},{"schema":{"type":"string","enum":["PAID","UNPAID","INARREARS"]},"required":false,"name":"mandatoryPaymentStatus","in":"query"},{"schema":{"anyOf":[{"type":"integer","minimum":0,"exclusiveMinimum":true,"default":1},{"type":"string"}]},"required":false,"name":"page","in":"query"},{"schema":{"anyOf":[{"type":"integer","minimum":0,"exclusiveMinimum":true,"default":2},{"type":"string"}]},"required":false,"name":"pageSize","in":"query"}],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"array","items":{"allOf":[{"$ref":"#/components/schemas/Member Schema"},{"type":"object","properties":{"id":{"type":"string"}},"required":["id"]}]}}}}}}},"post":{"tags":["Member"],"summary":"Create a new member","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Member Schema"}}}},"responses":{"201":{"description":"Created"}}}},"/member/{id}":{"get":{"tags":["Member"],"summary":"Get a member","responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/Member Schema"},{"type":"object","properties":{"id":{"type":"string"}},"required":["id"]}]}}}}}},"put":{"tags":["Member"],"summary":"Update a member","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/Member Schema"},{"required":["nik","cardId","name","birthPlace","birthDate","address","admArea1","admArea2","admArea3","admArea4","admArea5","phoneNumber","category"]}]}}}},"responses":{"200":{"description":"Success"}}}},"/waste/category":{"get":{"tags":["Waste Category"],"summary":"Get all waste categories","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"status":{"type":"string"},"message":{"type":"string"},"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string","minLength":3,"maxLength":255},"price":{"type":"integer","minimum":0,"exclusiveMinimum":true},"unit":{"type":"string","enum":["kg","lt"]},"point":{"type":"integer","minimum":0,"exclusiveMinimum":true},"createdAt":{"type":"string"}},"required":["id","name","price","unit","point","createdAt"]}}},"required":["status","message","data"]}}}}}}}},"/waste-category/{id}":{"get":{"tags":["Waste Category"],"summary":"Get a waste category by ID","parameters":[{"schema":{"type":"string","format":"uuid"},"required":true,"name":"id","in":"path"}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string"},"message":{"type":"string"},"data":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string","minLength":3,"maxLength":255},"price":{"type":"integer","minimum":0,"exclusiveMinimum":true},"unit":{"type":"string","enum":["kg","lt"]},"point":{"type":"integer","minimum":0,"exclusiveMinimum":true},"createdAt":{"type":"string"}},"required":["id","name","price","unit","point","createdAt"]}},"required":["status","message","data"]}}}}}},"put":{"tags":["Waste Category"],"summary":"Update a waste category","parameters":[{"schema":{"type":"string","format":"uuid"},"required":true,"name":"id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Update Waste Category"}}}},"responses":{"200":{"description":"Updated"}}}},"/waste-category":{"post":{"tags":["Waste Category"],"summary":"Create a new waste category","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Create Waste Category"}}}},"responses":{"201":{"description":"Created"}}}},"/user":{"post":{"tags":["User"],"summary":"Create a new user","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Create User"}}}},"responses":{"201":{"description":"Created"}}}},"/transaction/principal":{"post":{"tags":["Transaction"],"summary":"Principal deposit transaction","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"memberId":{"type":"string","minLength":10,"maxLength":10},"amount":{"type":"integer","minimum":0,"exclusiveMinimum":true}},"required":["memberId","amount"]}}}},"responses":{"201":{"description":"Created"}}}},"/login":{"post":{"tags":["Auth"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string","minLength":6},"password":{"type":"string","minLength":6}},"required":["username","password"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string"}},"required":["token"]}}}}}}},"/token/access":{"get":{"tags":["Auth"],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"accessToken":{"type":"string"}},"required":["accessToken"]}}}}}}},"/logout":{"get":{"tags":["Auth"],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}}}},"/reset-password/{token}":{"post":{"tags":["Auth"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"}},"required":["email"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"issues":{"type":"array","items":{"type":"object","properties":{}}}},"required":["message","issues"]}}}}}}},"/forgot-password":{"post":{"tags":["Auth"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"}},"required":["email"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}}}}}}